<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© - ClassWithOnline</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>
</head>
<body>
    <!-- Ø±Ø£Ø³ Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
    <header>
        <div class="header-container">
            <a href="../index.html" class="logo">ğŸ“š ClassWithOnline - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª</a>
            <nav>
                <ul>
                    <li><a href="index.html">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
                    <li><a href="../index.html">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ÙˆÙ‚Ø¹</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="container">
        <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
        <aside class="sidebar">
            <h3>Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª</h3>
            <ul>
                <li><a href="#add-course" class="active">Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ±Ø©</a></li>
                <li><a href="#manage-courses">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª</a></li>
                <li><a href="#add-content">Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰</a></li>
                <li><a href="#course-stats">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¯ÙˆØ±Ø§Øª</a></li>
            </ul>
        </aside>

        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
        <main class="content">
            <!-- Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø© -->
            <section id="add-course">
                <h1>â• Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©</h1>

                <form id="add-course-form" onsubmit="handleAddCourse(event)">
                    <div class="form-group">
                        <label for="course-title">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯ÙˆØ±Ø© *</label>
                        <input type="text" id="course-title" placeholder="Ù…Ø«Ø§Ù„: STEP - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„" required>
                    </div>

                    <div class="form-group">
                        <label for="course-description">ÙˆØµÙ Ø§Ù„Ø¯ÙˆØ±Ø© *</label>
                        <textarea id="course-description" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„Ø¯ÙˆØ±Ø©" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="course-level">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ *</label>
                        <select id="course-level" required>
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰</option>
                            <option value="A1">A1 - Ù…Ø¨ØªØ¯Ø¦ Ø¬Ø¯Ø§Ù‹</option>
                            <option value="A2">A2 - Ù…Ø¨ØªØ¯Ø¦</option>
                            <option value="B1">B1 - Ù…ØªÙˆØ³Ø·</option>
                            <option value="B2">B2 - Ù…ØªÙˆØ³Ø· Ù…ØªÙ‚Ø¯Ù…</option>
                            <option value="C1">C1 - Ù…ØªÙ‚Ø¯Ù…</option>
                            <option value="Secondary">Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="course-instructor">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³</label>
                        <input type="text" id="course-instructor" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³">
                    </div>

                    <div class="form-group">
                        <label for="course-duration">Ù…Ø¯Ø© Ø§Ù„Ø¯ÙˆØ±Ø© (Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª)</label>
                        <input type="number" id="course-duration" placeholder="Ù…Ø«Ø§Ù„: 20" min="1">
                    </div>

                    <button type="submit" class="btn btn-success btn-block">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ±Ø©</button>
                </form>

                <div id="course-add-message"></div>
            </section>

            <!-- Ù‚Ø³Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª -->
            <section id="manage-courses" style="margin-top: 3rem; display: none;">
                <h1>ğŸ“š Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©</h1>

                <div id="courses-management-container">
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±Ø§Øª...</p>
                </div>
            </section>

            <!-- Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ -->
            <section id="add-content" style="margin-top: 3rem; display: none;">
                <h1>ğŸ“¹ Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ Ù„Ù„Ø¯ÙˆØ±Ø§Øª</h1>

                <h2>Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ±Ø©</h2>
                <div class="form-group">
                    <select id="course-select" onchange="loadCourseForContent()">
                        <option value="">Ø§Ø®ØªØ± Ø¯ÙˆØ±Ø©</option>
                    </select>
                </div>

                <div id="content-form-container" style="display: none;">
                    <!-- Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ -->
                    <h2>Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ</h2>
                    <form id="add-video-form" onsubmit="handleAddVideo(event)">
                        <div class="form-group">
                            <label for="video-title">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</label>
                            <input type="text" id="video-title" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ" required>
                        </div>

                        <div class="form-group">
                            <label for="video-url">Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (YouTube Ø£Ùˆ Ù…Ø¨Ø§Ø´Ø±)</label>
                            <input type="url" id="video-url" placeholder="https://www.youtube.com/watch?v=..." required>
                        </div>

                        <button type="submit" class="btn btn-primary">Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</button>
                    </form>

                    <!-- Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù PDF -->
                    <h2 style="margin-top: 2rem;">Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù PDF</h2>
                    <form id="add-file-form" onsubmit="handleAddFile(event)">
                        <div class="form-group">
                            <label for="file-name">Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</label>
                            <input type="text" id="file-name" placeholder="Ù…Ø«Ø§Ù„: ÙˆØ±Ù‚Ø© Ø¹Ù…Ù„ 1" required>
                        </div>

                        <div class="form-group">
                            <label for="file-type">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù</label>
                            <select id="file-type" required>
                                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹</option>
                                <option value="Ù…Ø­Ù„ÙˆÙ„">Ù…Ø­Ù„ÙˆÙ„</option>
                                <option value="ØºÙŠØ± Ù…Ø­Ù„ÙˆÙ„">ØºÙŠØ± Ù…Ø­Ù„ÙˆÙ„</option>
                                <option value="Ø´Ø±Ø­">Ø´Ø±Ø­</option>
                                <option value="Ø£Ø³Ø¦Ù„Ø©">Ø£Ø³Ø¦Ù„Ø©</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="file-upload">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù</label>
                            <input type="file" id="file-upload" accept=".pdf" required>
                        </div>

                        <button type="submit" class="btn btn-primary">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ù</button>
                    </form>

                    <div id="upload-progress" style="display: none; margin-top: 1rem;">
                        <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
                        <div style="width: 100%; height: 20px; background-color: #e0e0e0; border-radius: 10px; overflow: hidden;">
                            <div id="progress-bar" style="width: 0%; height: 100%; background-color: var(--success-color); transition: width 0.3s;"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Ù‚Ø³Ù… Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¯ÙˆØ±Ø§Øª -->
            <section id="course-stats" style="margin-top: 3rem; display: none;">
                <h1>ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¯ÙˆØ±Ø§Øª</h1>

                <div id="stats-container" class="cards-grid">
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª...</p>
                </div>

                <h2 style="margin-top: 2rem;">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±Ø§Øª</h2>
                <div id="courses-details-container">
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„...</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Ø§Ù„ØªØ°ÙŠÙŠÙ„ -->
    <footer>
        <p>&copy; 2024 Ù…Ù†ØµØ© ClassWithOnline - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</p>
    </footer>

    <!-- Ù…Ù„ÙØ§Øª JavaScript -->
    <script src="../assets/js/firebase-app.js"></script>
    <script src="../assets/js/admin-functions.js"></script>
    <script>
        /**
         * Ù…Ø¹Ø§Ù„Ø¬ Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©
         */
        function handleAddCourse(event) {
            event.preventDefault();

            const title = document.getElementById('course-title').value;
            const description = document.getElementById('course-description').value;
            const level = document.getElementById('course-level').value;
            const instructor = document.getElementById('course-instructor').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            const duration = document.getElementById('course-duration').value || 0;

            const course = {
                title: title,
                description: description,
                level: level,
                instructor: instructor,
                duration: parseInt(duration),
                created_at: new Date().toISOString(),
                videos: {},
                files: {},
                students_count: 0
            };

            addToFirebase('courses', course).then(() => {
                document.getElementById('add-course-form').reset();
                document.getElementById('course-add-message').innerHTML = 
                    '<div class="alert alert-success">âœ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!</div>';
                
                setTimeout(() => {
                    document.getElementById('course-add-message').innerHTML = '';
                }, 3000);

                loadCoursesForSelect();
                updateCourseStats();
            });
        }

        /**
         * ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±Ø§Øª ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
         */
        function loadCoursesForSelect() {
            readFromFirebase('courses', (data) => {
                const select = document.getElementById('course-select');
                select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø¯ÙˆØ±Ø©</option>';

                if (data) {
                    Object.keys(data).forEach(key => {
                        const course = data[key];
                        const option = document.createElement('option');
                        option.value = key;
                        option.textContent = course.title;
                        select.appendChild(option);
                    });
                }
            });
        }

        /**
         * ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰
         */
        function loadCourseForContent() {
            const courseId = document.getElementById('course-select').value;
            const formContainer = document.getElementById('content-form-container');

            if (courseId) {
                formContainer.style.display = 'block';
                document.getElementById('add-video-form').dataset.courseId = courseId;
                document.getElementById('add-file-form').dataset.courseId = courseId;
            } else {
                formContainer.style.display = 'none';
            }
        }

        /**
         * Ù…Ø¹Ø§Ù„Ø¬ Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ
         */
        function handleAddVideo(event) {
            event.preventDefault();

            const courseId = event.target.dataset.courseId;
            const videoTitle = document.getElementById('video-title').value;
            let videoUrl = document.getElementById('video-url').value;

            // ØªØ­ÙˆÙŠÙ„ Ø±Ø§Ø¨Ø· YouTube Ø¥Ù„Ù‰ embed
            videoUrl = getYouTubeEmbedUrl(videoUrl);

            addVideoToCourse(courseId, videoTitle, videoUrl);
            document.getElementById('add-video-form').reset();
        }

        /**
         * Ù…Ø¹Ø§Ù„Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù
         */
        function handleAddFile(event) {
            event.preventDefault();

            const courseId = event.target.dataset.courseId;
            const fileName = document.getElementById('file-name').value;
            const fileType = document.getElementById('file-type').value;
            const fileInput = document.getElementById('file-upload');

            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
                document.getElementById('upload-progress').style.display = 'block';

                uploadFile(file, 'pdf', (data) => {
                    if (data.success) {
                        addFileToCourse(courseId, fileName, data.file_url, fileType);
                        document.getElementById('add-file-form').reset();
                        document.getElementById('upload-progress').style.display = 'none';
                    }
                });
            }
        }

        /**
         * ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¯ÙˆØ±Ø§Øª
         */
        function updateCourseStats() {
            readFromFirebase('courses', (data) => {
                const statsContainer = document.getElementById('stats-container');
                const detailsContainer = document.getElementById('courses-details-container');

                if (!data) {
                    statsContainer.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯ÙˆØ±Ø§Øª</p>';
                    return;
                }

                let totalVideos = 0;
                let totalFiles = 0;
                let totalDuration = 0;

                let detailsHtml = '<table style="width: 100%; border-collapse: collapse;">';
                detailsHtml += '<tr style="background-color: var(--light-bg);">';
                detailsHtml += '<th style="padding: 10px; border: 1px solid var(--border-color);">Ø§Ù„Ø¯ÙˆØ±Ø©</th>';
                detailsHtml += '<th style="padding: 10px; border: 1px solid var(--border-color);">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</th>';
                detailsHtml += '<th style="padding: 10px; border: 1px solid var(--border-color);">Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</th>';
                detailsHtml += '<th style="padding: 10px; border: 1px solid var(--border-color);">Ø§Ù„Ù…Ù„ÙØ§Øª</th>';
                detailsHtml += '<th style="padding: 10px; border: 1px solid var(--border-color);">Ø§Ù„Ù…Ø¯Ø©</th>';
                detailsHtml += '</tr>';

                Object.keys(data).forEach(key => {
                    const course = data[key];
                    const videosCount = Object.keys(course.videos || {}).length;
                    const filesCount = Object.keys(course.files || {}).length;

                    totalVideos += videosCount;
                    totalFiles += filesCount;
                    totalDuration += course.duration || 0;

                    detailsHtml += '<tr>';
                    detailsHtml += `<td style="padding: 10px; border: 1px solid var(--border-color);">${course.title}</td>`;
                    detailsHtml += `<td style="padding: 10px; border: 1px solid var(--border-color);">${course.level}</td>`;
                    detailsHtml += `<td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">ğŸ“¹ ${videosCount}</td>`;
                    detailsHtml += `<td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">ğŸ“„ ${filesCount}</td>`;
                    detailsHtml += `<td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">â±ï¸ ${course.duration || 0}h</td>`;
                    detailsHtml += '</tr>';
                });

                detailsHtml += '</table>';

                // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                statsContainer.innerHTML = `
                    <div class="card">
                        <div class="card-header">
                            <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Øª</h3>
                        </div>
                        <div class="card-body">
                            <p style="font-size: 2rem; text-align: center; color: var(--secondary-color);">
                                ${Object.keys(data).length}
                            </p>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h3>
                        </div>
                        <div class="card-body">
                            <p style="font-size: 2rem; text-align: center; color: var(--secondary-color);">
                                ${totalVideos}
                            </p>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù„ÙØ§Øª</h3>
                        </div>
                        <div class="card-body">
                            <p style="font-size: 2rem; text-align: center; color: var(--secondary-color);">
                                ${totalFiles}
                            </p>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø§Ø¹Ø§Øª</h3>
                        </div>
                        <div class="card-body">
                            <p style="font-size: 2rem; text-align: center; color: var(--secondary-color);">
                                ${totalDuration}h
                            </p>
                        </div>
                    </div>
                `;

                detailsContainer.innerHTML = detailsHtml;
            });
        }

        /**
         * Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
         */
        document.querySelectorAll('.sidebar a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const href = this.getAttribute('href');

                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙØ¦Ø© active Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
                document.querySelectorAll('.sidebar a').forEach(l => l.classList.remove('active'));
                this.classList.add('active');

                // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
                document.querySelectorAll('main section').forEach(section => {
                    section.style.display = 'none';
                });

                // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø®ØªØ§Ø±
                const target = document.querySelector(href);
                if (target) {
                    target.style.display = 'block';

                    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
                    if (href === '#manage-courses') {
                        loadCoursesForManagement();
                    } else if (href === '#course-stats') {
                        updateCourseStats();
                    }
                }
            });
        });

        /**
         * ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
         */
        function loadCoursesForManagement() {
            readFromFirebase('courses', (data) => {
                const container = document.getElementById('courses-management-container');

                if (!data) {
                    container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯ÙˆØ±Ø§Øª</p>';
                    return;
                }

                container.innerHTML = '';

                Object.keys(data).forEach(key => {
                    const course = data[key];
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <div class="card-header">
                            <h3>${course.title}</h3>
                        </div>
                        <div class="card-body">
                            <p><strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</strong> ${course.level}</p>
                            <p><strong>Ø§Ù„Ù…Ø¯Ø±Ø³:</strong> ${course.instructor}</p>
                            <p><strong>Ø§Ù„Ù…Ø¯Ø©:</strong> ${course.duration} Ø³Ø§Ø¹Ø©</p>
                            <p>${course.description}</p>
                            <p style="font-size: 0.9rem; color: #666;">
                                <strong>Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª:</strong> ${Object.keys(course.videos || {}).length} | 
                                <strong>Ø§Ù„Ù…Ù„ÙØ§Øª:</strong> ${Object.keys(course.files || {}).length}
                            </p>
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-danger" onclick="deleteCourseItem('${key}')">Ø­Ø°Ù</button>
                        </div>
                    `;
                    container.appendChild(card);
                });
            });
        }

        /**
         * Ø­Ø°Ù Ø¯ÙˆØ±Ø©
         */
        function deleteCourseItem(courseId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ±Ø©ØŸ')) {
                deleteFromFirebase(`courses/${courseId}`).then(() => {
                    loadCoursesForManagement();
                    loadCoursesForSelect();
                    updateCourseStats();
                });
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', () => {
            loadCoursesForSelect();
            updateCourseStats();
        });
    </script>
</body>
</html>
